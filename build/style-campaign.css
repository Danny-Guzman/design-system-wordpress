/* These need to go in the base css */
.transparent-bg {
  background: transparent;
}

.gray-bg {
  background: var(--grey-background, #eee);
}

.add-box-shadow {
  box-shadow:
    0 4px 8px 0 rgba(0, 0, 0, 0.2),
    0 6px 20px 0 rgba(0, 0, 0, 0.19);
}

.remove-box-shadow {
  box-shadow: none;
}

.hidden {
  box-shadow: none;
  display: none;
}

.pointer-cursor {
  cursor: pointer;
}

/* End of Move to Global */

header {
  container-type: inline-size;
  container-name: header;
  display: flex;
  width: 100%;
  padding: 20px;
  position: relative;
  background-color: var(--grey-background, #eee);
  box-shadow:
    0 4px 8px 0 rgba(0, 0, 0, 0.2),
    0 6px 20px 0 rgba(0, 0, 0, 0.19);

  /* Logo Styles */
  .logo {
    margin-right: 2rem;
    align-self: center;

    figure,
    img {
      height: 4vh;
      width: 14vw;
    }
  }

  /* Header Compacted View Styles */
  &.compacted {
    position: fixed;
    /*justify-content: space-between;
    flex: 1,0;*/

    .mobile {
      display: block;
    }

    .logo {
      figure,
      img {
        width: 14vw;
      }
    }
  }

  /* End of Header Compacted View Styles */

  /* End of Logo Styles */

  /* Navigation Styles */
  .navigation {
    flex: auto;

    nav {
      display: flex;
      height: 100%;

      ul {
        display: flex;
        width: 100%;

        li {
          padding: 0;
          margin: 0;
          padding-right: 3rem;
          align-self: center;

          /* Anchor links */
          a {
            text-decoration: none;
            color: var(--tahoe-blue, #20367c);
            font-size: 1.2rem;
            font-weight: 700;

            &:hover {
              border-bottom: 3px solid currentcolor;
            }

            &.active {
              border-bottom: 3px solid #fec335;
            }
          }
        }
      }
    }
  }

  /* End of Navigation Styles */

  /* Search Styles */
  nav li.search {
    flex: 1;
    text-align: right;

    .search-container {
      /*margin-bottom: 35px;*/

      input[type="submit"] {
        display: none;
      }

      .search-svg {
        position: absolute;
        height: 32px;
        width: 37px;
        cursor: pointer;
        border: none;
        margin: 3px 0 0 -39px;
        background-image: url("data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"38\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\"><path d=\"M0.5 16C0.5 7.43959 7.43959 0.5 16 0.5C24.5604 0.5 31.5 7.43959 31.5 16C31.5 24.5604 24.5604 31.5 16 31.5C7.43959 31.5 0.5 24.5604 0.5 16Z\" fill=\"%23EEEEEE\" stroke=\"%2320367C\" /><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"17\" height=\"17\" x=\"8\" y=\"8\" viewBox=\"0 0 17 17\" fill=\"none\"><path d=\"M16.0287 14.7592L12.0315 10.7561C14.0415 8.14002 13.8408 4.36029 11.4286 1.96785C10.1113 0.648892 8.41359 -0.00012207 6.69412 -0.00012207C4.97465 -0.00012207 3.27685 0.647998 1.95961 1.96785C-0.653203 4.5839 -0.653203 8.83255 1.95961 11.4486C3.27694 12.7676 4.97465 13.4166 6.69412 13.4166C8.12312 13.4166 9.55305 12.9693 10.737 12.0522L14.7561 16.0336C14.935 16.2127 15.1583 16.3018 15.4034 16.3018C15.6268 16.3018 15.8728 16.2127 16.0508 16.0336C16.3866 15.6982 16.3866 15.1164 16.0289 14.7592H16.0287ZM6.71583 11.6058C5.3985 11.6058 4.1919 11.0913 3.25411 10.175C1.35575 8.27432 1.35575 5.16655 3.25411 3.24303C4.17015 2.32586 5.3985 1.81226 6.71583 1.81226C8.03316 1.81226 9.23975 2.32675 10.1775 3.24303C11.1154 4.1602 11.6065 5.39007 11.6065 6.70903C11.6065 8.02799 11.0927 9.23608 10.1775 10.175C9.26151 11.114 8.01136 11.6058 6.71583 11.6058Z\" fill=\"%2320367C\" /></svg></svg>");
      }

      .search-box {
        transition:
          width 0.6s,
          border-radius 0.6s,
          background 0.6s,
          box-shadow 0.6s;
        width: 40px;
        height: 40px;
        border-radius: 20px;
        border: none;

        &:hover {
          /* background: #c8c8c8;
          box-shadow: 0 0 0 5px #3d4752; */
        }
      }

      .focus-search-box {
        transition:
          width 0.6s cubic-bezier(0, 1.22, 0.66, 1.39),
          border-radius 0.6s,
          background 0.6s;
        width: 300px;
      }
    }
  }

  .navigation-mobile #search-box.focus-search-box {
    width: 80vw;
  }

  /* CA.gov Styles */
  @keyframes gradient-background {
    0% {
      background-position: 1% 0%;
    }

    50% {
      background-position: 99% 100%;
    }

    100% {
      background-position: 1% 0%;
    }
  }

  .cagov-animated {
    height: 3rem;
    transition: 0.3s all ease-in;
    width: 3rem;

    &:hover {
      box-shadow: 4px 4px 4px 0px rgba(0, 0, 0, 0.25);
    }
  }

  .testing-animation {
    background-image: (linear-gradient(180deg, red, green));
    animation: gradient-background 10s ease infinite;
  }

  .cagov {
    align-self: center;
    background: var(--grey-background, #eee);
    cursor: pointer;
    width: 3rem;
    z-index: calc(infinity);

    .ca-gov-svg:hover {
      /* box-shadow: 4px 4px 4px 0px rgba(0, 0, 0, 0.25); */
      /* background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 48 48" fill="none"><circle cx="4.00024" cy="4" r="4" fill="%2320367C"/><path d="M19.9758 4C19.9758 6.20914 18.185 8 15.9758 8C13.7667 8 11.9758 6.20914 11.9758 4C11.9758 1.79086 13.7667 0 15.9758 0C18.185 0 19.9758 1.79086 19.9758 4Z" fill="%2320367C" fill-opacity="0.75"/><circle cx="27.9519" cy="4" r="4" fill="%2320367C"/><circle cx="4.00024" cy="16" r="4" fill="%2320367C" fill-opacity="0.75"/><circle cx="15.9758" cy="16" r="4" fill="%2320367C" fill-opacity="0.5"/><circle cx="27.9519" cy="16" r="4" fill="%2320367C" fill-opacity="0.75"/><circle cx="4" cy="28" r="4" fill="%2320367C"/><circle cx="15.9756" cy="28" r="4" fill="%2320367C" fill-opacity="0.75"/><circle cx="27.9517" cy="28" r="4" fill="%2320367C"/></svg>'); */
    }

    .ca-gov-close-icon {
      height: 3rem;
      width: 3rem;
      display: block;
      border: 0;
      transition: all 0.3s ease;
      background-image: url("data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"56\" height=\"56\" viewBox=\"0 0 56 56\" fill=\"none\"><rect width=\"56\" height=\"56\" transform=\"matrix%28-1 0 0 1 56 0%29\" fill=\"%2320367C\"/><path d=\"M17 16H20.688L39.5115 39.3633H35.8235L17 16Z\" fill=\"url%28%23paint0_linear_1059_31845%29\"/><path d=\"M39.5117 16H35.8237L17.0002 39.3633H20.6882L39.5117 16Z\" fill=\"white\"/><defs><linearGradient id=\"paint0_linear_1059_31845\" x1=\"18.2429\" y1=\"16\" x2=\"36.2565\" y2=\"39.3633\" gradientUnits=\"userSpaceOnUse\"><stop stop-color=\"white\"/><stop offset=\"0.3\" stop-color=\"%2320367C\"/><stop offset=\"0.715\" stop-color=\"%2320367C\"/><stop offset=\"1\" stop-color=\"white\" stop-opacity=\"0.95935\"/></linearGradient></defs></svg>");
    }

    .ca-gov-close-icon:hover {
      background-image: url("data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"64\" height=\"64\" viewBox=\"0 0 64 64\" fill=\"none\"><g filter=\"url%28%23filter0_d_1059_31932%29\"><rect width=\"56\" height=\"56\" transform=\"matrix%28-1 0 0 1 56 0%29\" fill=\"%236D6D6D\"/><path d=\"M17 16H20.688L39.5115 39.3633H35.8235L17 16Z\" fill=\"url%28%23paint0_linear_1059_31932%29\"/><path d=\"M39.5117 16H35.8237L17.0002 39.3633H20.6882L39.5117 16Z\" fill=\"white\"/></g><defs><filter id=\"filter0_d_1059_31932\" x=\"0\" y=\"0\" width=\"64\" height=\"64\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\"><feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/><feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/><feOffset dx=\"4\" dy=\"4\"/><feGaussianBlur stdDeviation=\"2\"/><feComposite in2=\"hardAlpha\" operator=\"out\"/><feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0\"/><feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow_1059_31932\"/><feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect1_dropShadow_1059_31932\" result=\"shape\"/></filter><linearGradient id=\"paint0_linear_1059_31932\" x1=\"18.2429\" y1=\"16\" x2=\"36.2565\" y2=\"39.3633\" gradientUnits=\"userSpaceOnUse\"><stop stop-color=\"white\"/><stop offset=\"0.3\" stop-color=\"%236D6D6D\"/><stop offset=\"0.715\" stop-color=\"%236D6D6D\"/><stop offset=\"1\" stop-color=\"white\" stop-opacity=\"0.95935\"/></linearGradient></defs></svg>");
    }

    .ca-gov-svg {
      border: 0;
    }
  }

  #translate {
    color: var(--go-brand-tahoe-blue, #20367c);
    font-style: normal;
    font-weight: 400;
  }

  #ca_gov_sidebar {
    background: var(--grey-background, #eee);
    box-shadow: -4px 4px 4px 0px rgba(0, 0, 0, 0.25);
    display: none;
    font-family: "Noto Sans";
    height: 100vh;
    line-height: normal;
    overflow-y: auto;
    padding: 3.5rem 1rem;
    position: absolute;
    right: 0px;
    text-align: start;
    top: 100px;
    transition: all 0.3s ease;
    width: 15rem;
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */

    &::-webkit-scrollbar {
      display: none;
    }

    & ul {
      list-style: none;
      margin-top: 1rem;
      padding: 0;
    }

    & p:first-child {
      margin-bottom: 3rem;
      color: #323232;
      font-size: 1rem;
      font-weight: 400;
    }

    & p:nth-child(2) {
      color: var(--go-brand-tahoe-blue, #20367c);
      font-size: 1.125rem;
      font-style: normal;
      font-weight: 700;
      line-height: 1.5rem;
    }

    & p:nth-child(3) {
      color: var(--go-brand-tahoe-blue, #20367c);
      font-size: 0.875rem;
      font-style: normal;
      font-weight: 400;
      line-height: 1.5rem;
      margin-block-end: 1.5rem;
    }

    & div.ca-gov-services-container > ul > li {
      padding-bottom: 2rem;
    }

    & div.ca-gov-services-container > ul > li:first-child {
      color: #323232;
      font-size: 1.125rem;
      font-weight: 700;
    }

    & div.ca-gov-services-container > ul > li > a {
      color: var(--go-brand-tahoe-blue, #20367c);
      font-size: 1.125rem;
      font-weight: 600;
      text-decoration: none;
    }

    & div.ca-gov-services-container > ul > li > button {
      color: var(--go-brand-tahoe-blue, #20367c);
      cursor: pointer;
      font-size: 1.125rem;
      font-weight: 600;
      padding: 1rem;
      text-decoration: none;
    }

    & div.ca-gov-services-container > ul > li > a:hover {
      text-decoration: underline;
    }

    #more_services_toggle button,
    #less_services_toggle button {
      border: 0;
    }
  }

  #ca_gov_sidebar.sidebar-mobile {
    padding-top: 7rem;
    top: 0;
  }

  .border-with-radius {
    border: 1px solid var(--go-brand-tahoe-blue, #20367c);
    border-radius: 0.3125rem;
  }

  /* Mobile Menu Styles */
  .mobile {
    display: none;
    /* flex: 1; */

    .menu-icon {
      display: block;
      width: 2rem;
      height: 1.5rem;
      stroke: #1b499b;
      stroke-width: 4;
      fill: none;
    }

    .nav-toggle {
      cursor: pointer;
    }

    .nav-toggle path {
      transition: d 0.3s;
    }

    .nav-toggle[aria-expanded="true"] .menu-icon path {
      d: path("M3,3 29,29  M3,29 29,3");
    }
  }

  /* End of Mobile Menu Styles */

  /* Header Mobile View Styles */
  &.mobile {
    position: fixed;
    justify-content: space-between;
    flex: 1;

    .mobile {
      display: block;
    }

    .logo {
      figure,
      img {
        height: 5vh;
        width: 40vw;
      }
    }

    #ca_gov_sidebar {
      padding: 1.5rem 2rem;
      top: 97px;
      width: 100vw;

      & p:first-child {
        margin-bottom: 1rem;
        border-bottom: 1px solid #b6b6b6;
        padding-bottom: 1rem;
      }
    }

    .navigation-mobile {
      position: absolute;
      top: 97px;
      left: 0;
      background-color: var(--grey-background, #eee);
      height: 100vh;
      width: 100vw;

      nav {
        display: block;
        ul {
          display: block;

          li {
            /* border: 2px solid black; */
            padding: 30px;

            &.search {
              text-align: center;
            }
            &.google-translate {
              bottom: 7rem;
              position: absolute;
              & a {
                font-size: 1rem;
                font-weight: 400;
              }
            }
          }
        }
      }
    }
  }

  /* End of Header Mobile View Styles */
}

/* Tablet Viewport */
@media (max-width: 1280px) {
  header .navigation nav li {
    &.search,
    &.google-translate {
      padding-right: 10px;
    }

    a {
      font-size: var(--h3, 1.5rem) !important;
    }
  }
}

/* * {
  border: 1px solid red;
} */

.flex {
  display: flex;
  gap: var(--flow-space);

  > * {
    flex-basis: 1 1 20ch;
  }
}

footer {
  container-type: inline-size;
  container-name: footer;
  background-color: var(--brand-primary);
  background-image: url("data:image/svg+xml,<svg width=\"549\" height=\"408\" viewBox=\"0 0 610 453\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><g filter=\"url%28%23filter0_d_476_5260%29\"><path d=\"M599 437.99C565.072 438.263 557.936 438.551 553.89 438.512C544.121 433.53 554.404 416.851 567 412.493C582.5 406.997 591.5 410.5 599 411.989V437.99Z\" fill=\"%23253E88\"/><path d=\"M599.431 288.978C588.688 304.558 542.251 307.092 508.538 300.59C510.751 316.062 535.066 352.271 531.965 370.649C526.506 388.061 495.551 430.111 491.496 430.111C491.496 430.111 423.796 430.091 418.034 430.091C414.407 427.166 423.269 413.4 427.637 409.578C441.93 396.631 462.803 416.53 468.594 394.291C470.788 386.433 461.097 375.816 437.406 358.443C420.656 346.158 401.908 324.846 397.94 326.035C364.938 364.955 329.177 387.974 303.41 398.337C280.538 410.261 258.972 438.242 257.139 437.822C257.139 437.822 155.326 438.222 150.09 437.822C142.125 432.928 163.925 412.406 173.235 408.867C183.043 405.133 204.258 416.257 213.101 410.183C222.363 403.69 223.23 370.298 253.863 339.714C259.898 333.63 256.115 290.616 273.635 258.589C263.154 253.578 245.44 257.185 232.863 263.025C215.587 271.039 211.716 297.986 183.316 303.865C161.79 306.088 145.762 297.07 139.483 297.216C129.314 298.357 82.8388 307.58 61.1073 307.58C45.3132 303.358 7.94371 272.102 10.0886 266.418C13.4619 259.856 48.9108 230.803 55.4721 214.366C57.89 208.301 54.429 193.258 57.5293 187.506C65.0558 173.535 84.8667 153.266 90.8528 145.067C94.8598 139.997 85.9683 124.895 102.659 115.623C118.395 108.682 124.839 118.266 128.895 119.923C128.924 114.366 127.793 102.793 143.08 96.3196C157.822 92.6636 168.877 108.136 169.735 111.392C176.755 106.625 193.465 78.8389 217.059 70.8541C219.087 70.1717 223.484 70.1814 225.522 69.5282C234.92 63.4251 268.029 48.9472 278.256 43.2048C293.173 34.83 333.409 8.45781 350.587 6.32269C383.043 2.29618 444.884 37.2674 459.011 38.0181C473.137 38.7688 563.505 24.3981 599.431 26.1043V288.978Z\" fill=\"%23253E88\"/></g><defs><filter id=\"filter0_d_476_5260\" x=\"0\" y=\"0\" width=\"609.431\" height=\"452.516\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\"><feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/><feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/><feOffset dy=\"4\"/><feGaussianBlur stdDeviation=\"5\"/><feComposite in2=\"hardAlpha\" operator=\"out\"/><feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0\"/><feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow_476_5260\"/><feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect1_dropShadow_476_5260\" result=\"shape\"/></filter></defs></svg>");
  background-repeat: no-repeat;
  background-position: calc(100% + var(--gutter-gap)) center;
  color: var(--text-white);
  font-weight: 200;
  padding: var(--flow-space);

  & section {
    display: flex;
    flex-wrap: wrap;
    gap: var(--gutter-gap);
    padding: var(--flow-space);
    font-size: clamp(0.55rem, 3cqi, 0.85rem);

    :is(h1, h2, h3, h4, strong)

		/*smaller font size in footer*/ {
      font-size: clamp(0.85rem, 3cqi, 1.15rem);
    }

    :is(h1, h2, h3, h4) {
      margin-block-start: var(--gutter-gap);
    }
  }

  & a {
    color: #fff;
    text-decoration: none;
    display: inline-block;
  }

  & a:hover,
	 a:focus

	/* use text stroke to not offset surrounding objects */ {
    -webkit-text-stroke: 0.05em var(--hyperlink-dark);
    text-stroke: 0.05em var(--hyperlink-dark);
  }

  /*delete this for prod*/
  & img[src^="media"] {
    background: #fff;
    display: inline-block;
    padding: 1em;
  }
}

.footer-primary {
  container-type: inline-size;
  container-name: footer-primary;
  border-bottom: 1px solid #fff;

  & img {
    width: auto;
    height: 15cqi;
  }

  > * {
    display: flex;
    gap: var(--gutter-gap);
    padding: var(--flow-space);
  }

  & div:last-child

	/*Primary footer navigation*/ {
    flex-wrap: wrap;
    flex-grow: 2;

    & nav {
      flex: 1 1 50cqi;
    }
  }

  & div:first-child

	/*Footer Logo */ {
    > * {
      align-self: center;
    }

    & strong {
      display: block;
    }
  }
}

.footer-primary ~ * {
  justify-content: space-between;
}

@container footer-primary (min-width: 120ch) {
  .footer-primary {
    :is(h1, h2, h3, h4) {
      margin-block-start: 0;
    }

    & div:last-child nav {
      flex: 1 1 20ch;
    }

    & div:first-child {
      max-width: calc(30vw + 20ch);
      /* padding-inline-end: 20ch; */

      & img {
        width: auto;
        height: 15cqh;
      }
    }
  }
}

@container footer (min-width: 90ch) {
  nav[aria-labelledby^="utility"] > ul {
    display: flex;
    gap: var(--gutter-gap);
  }
}

